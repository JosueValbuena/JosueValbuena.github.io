---
import { ArrowUp, MessageCircle } from "@lucide/astro";


---

<div class="fixed bottom-6 right-6 z-50 flex flex-col gap-3">
  <button
    id="btn-scroll-top"
    class="w-12 h-12 rounded-full bg-secondary border border-border flex items-center justify-center text-foreground hover:border-primary/50 hover-glow transition-all opacity-0 pointer-events-none translate-y-4 duration-300"
    aria-label="Volver arriba"
  >
    <ArrowUp size={20} />
  </button>
  <a
    href="https://wa.me/56941412775?text=Hola%20Josue,%20vi%20tu%20portafolio%20y%20quiero%20contratar%20tus%20servicios%20para%20mi%20proyecto.%20%C2%BFPodemos%20hablar?"
    target="_blank"
    rel="noopener noreferrer"
    class="w-12 h-12 rounded-full bg-[hsl(142,70%,45%)] flex items-center justify-center text-[hsl(0,0%,100%)] hover:scale-110 transition-transform shadow-lg"
    aria-label="WhatsApp"
  >
    <MessageCircle size={22} />
  </a>
</div>

<script>
  const btnScroll = document.getElementById('btn-scroll-top');

  window.addEventListener('scroll', () => {
    if (window.scrollY > window.innerHeight * 0.5) {
      btnScroll?.classList.remove('opacity-0', 'pointer-events-none', 'translate-y-4');
      btnScroll?.classList.add('opacity-100', 'pointer-events-auto', 'translate-y-0');
    } else {
      btnScroll?.classList.add('opacity-0', 'pointer-events-none', 'translate-y-4');
      btnScroll?.classList.remove('opacity-100', 'pointer-events-auto', 'translate-y-0');
    }
  });

  btnScroll?.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
</script>